# TEAM_459: Removed aarch64-unknown-none linker override from root config.
# The kernel has its own .cargo/config.toml with this setting.
# Userspace needs to use the default rust-lld linker for bare-metal targets.

# TEAM_459: Cross-linker for aarch64 musl builds (coreutils, etc.)
# Uses the musl cross-compiler downloaded by `cargo xtask build busybox --arch aarch64`
[target.aarch64-unknown-linux-musl]
linker = "toolchain/aarch64-linux-musl-cross/bin/aarch64-linux-musl-gcc"

[target.x86_64-unknown-none]
rustflags = [
    "-C", "relocation-model=static",
]

# TEAM_274: Removed x86_64 linker script settings from here
# They are now in kernel/build.rs to avoid applying to userspace builds

[alias]
xtask = "run --package xtask --target x86_64-unknown-linux-gnu --"
