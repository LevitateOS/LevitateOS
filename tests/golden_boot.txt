[BOOT] Stage 1: Early HAL (SEC)
Heap initialized.
[BOOT] Stage 2: Memory & MMU (PEI)
MMU re-initialized (Higher-Half + Identity).
Exceptions initialized.
DTB address from x0: 0x48200000
Detected GIC version: V2
Buddy Allocator initialized with DTB memory map.
Core drivers initialized.
Timer initialized.
[BOOT] Stage 4: Discovery & FS (DXE/BDS)
Scanning VirtIO MMIO bus...
Initializing Block device...
VirtIO Block initialized successfully.
Initializing Network device...
VirtIO Net: MAC=52:54:00:12:34:56
Initializing Input...
VirtIO Input initialized successfully.
Initializing Input...
VirtIO Input initialized successfully.
BOOT_REGS: x0=48200000 x1=0 x2=0 x3=0
Detecting Initramfs...
Initramfs found at 0x48000000 - 0x48026400 (156672 bytes)
Files in initramfs:
 - .
 - hello.txt
   Content: Hello from initramfs!
 - test.txt
 - shell
 - init
[BOOT] Starting init from initramfs...
[SPAWN] Parsing ELF header... data len 75592
[MMU] Creating user page table...
[MMU] Allocated L0 table at phys 0x48027000
[MMU] Zeroing L0 table at va 0xffff800048027000
[ELF] Copying segment: src[0]=ff to VA 10000
[ELF] Resolved PA 48028000 -> Kernel VA ffff800048028000
[ELF] Copying segment: src[0]=0 to VA 11378
[ELF] Resolved PA 4802c378 -> Kernel VA ffff80004802c378
[SPAWN] Created user process PID=1 entry=0x10000 sp=0x7fffffff0000
[SPAWN] Starting user process...
[INIT] PID 1 starting...
[INIT] Spawning shell...
[SYSCALL] spawn('shell')
[SPAWN] Parsing ELF header... data len 80160
[MMU] Creating user page table...
[MMU] Allocated L0 table at phys 0x48040000
[MMU] Zeroing L0 table at va 0xffff800048040000
[ELF] Copying segment: src[0]=ff to VA 10000
[ELF] Resolved PA 48041000 -> Kernel VA ffff800048041000
[ELF] Copying segment: src[0]=c0 to VA 11f30
[ELF] Resolved PA 48045f30 -> Kernel VA ffff800048045f30
[SPAWN] Created user process PID=2 entry=0x10000 sp=0x7fffffff0000
[TASK] Entering user task PID=2 at 0x10000

LevitateOS Shell (lsh) v0.1
Type 'help' for commands.

# 